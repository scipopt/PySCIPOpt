<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PySCIPOpt: PySCIPOpt</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PySCIPOpt
   </div>
   <div id="projectbrief">Python Interface to the SCIP Optimization Suite</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_README.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PySCIPOpt </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This project provides an interface from Python to the <a href="http://scip.zib.de">SCIP Optimization Suite</a>.</p>
<p><a href="https://gitter.im/PySCIPOpt/Lobby"></a> <a href="https://pypi.python.org/pypi/pyscipopt"></a> <a href="https://travis-ci.org/SCIP-Interfaces/PySCIPOpt"></a> <a href="https://ci.appveyor.com/project/mattmilten/pyscipopt"></a> <a href="https://codecov.io/gh/SCIP-Interfaces/PySCIPOpt"></a> <a href="https://landscape.io/github/SCIP-Interfaces/PySCIPOpt/master"></a></p>
<h2>Documentation </h2>
<p>Please consult the <a href="http://scip-interfaces.github.io/PySCIPOpt/">online documentation here</a> or use the <code>help()</code> function directly in Python or <code>?</code> in IPython/Jupyter.</p>
<h2>Installation </h2>
<p>See <a class="el" href="md_INSTALL.html">INSTALL.md</a> for instructions.</p>
<h2>Building and solving a model </h2>
<p>There are several <a class="el" href="dir_a562ccaa5e17bafcab246de9ef084f0c.html">examples</a> and <a class="el" href="dir_c1b9e66bce6b1b2db4a457a593cee634.html">tutorials</a>. These display some functionality of the interface and can serve as an entry point for writing more complex code. You might also want to have a look at this article about PySCIPOpt: <a href="https://opus4.kobv.de/opus4-zib/frontdoor/index/index/docId/6045">https://opus4.kobv.de/opus4-zib/frontdoor/index/index/docId/6045</a>. The following steps are always required when using the interface:</p>
<p>1) It is necessary to import python-scip in your code. This is achieved by including the line</p>
<div class="fragment"><div class="line">from pyscipopt import Model</div></div><!-- fragment --><p>2) Create a solver instance.</p>
<div class="fragment"><div class="line">model = Model(&quot;Example&quot;)  # model name is optional</div></div><!-- fragment --><p>3) Access the methods in the <code><a class="el" href="scip_8pyx.html" title="holding functions in python that reference the SCIP public functions included in scip.pxd ">scip.pyx</a></code> file using the solver/model instance <code>model</code>, e.g.:</p>
<div class="fragment"><div class="line">x = model.addVar(&quot;x&quot;)</div><div class="line">y = model.addVar(&quot;y&quot;, vtype=&quot;INTEGER&quot;)</div><div class="line">model.setObjective(x + y)</div><div class="line">model.addCons(2*x - y*y &gt;= 0)</div><div class="line">model.optimize()</div></div><!-- fragment --><h2>Writing new plugins </h2>
<p>The Python interface can be used to define custom plugins to extend the functionality of SCIP. You may write a pricer, heuristic or even constraint handler using pure Python code and SCIP can call their methods using the callback system. Every available plugin has a base class that you need to extend, overwriting the predefined but empty callbacks. Please see <code>test_pricer.py</code> and <code>test_heur.py</code> for two simple examples.</p>
<p>Please notice that in most cases one needs to use a <code>dictionary</code> to specify the return values needed by SCIP.</p>
<h2>Extending the interface </h2>
<p>PySCIPOpt already covers many of the SCIP callable library methods. You may also extend it to increase the functionality of this interface. The following will provide some directions on how this can be achieved:</p>
<p>The two most important files in PySCIPOpt are the <code><a class="el" href="scip_8pxd.html" title="holding prototype of the SCIP public functions to use them in PySCIPOpt ">scip.pxd</a></code> and <code><a class="el" href="scip_8pyx.html" title="holding functions in python that reference the SCIP public functions included in scip.pxd ">scip.pyx</a></code>. These two files specify the public functions of SCIP that can be accessed from your python code.</p>
<p>To make PySCIPOpt aware of the public functions you would like to access, you must add them to <code><a class="el" href="scip_8pxd.html" title="holding prototype of the SCIP public functions to use them in PySCIPOpt ">scip.pxd</a></code>. There are two things that must be done in order to properly add the functions:</p>
<p>1) Ensure any <code>enum</code>s, <code>struct</code>s or SCIP variable types are included in <code><a class="el" href="scip_8pxd.html" title="holding prototype of the SCIP public functions to use them in PySCIPOpt ">scip.pxd</a></code> <br />
 2) Add the prototype of the public function you wish to access to <code><a class="el" href="scip_8pxd.html" title="holding prototype of the SCIP public functions to use them in PySCIPOpt ">scip.pxd</a></code></p>
<p>After following the previous two steps, it is then possible to create functions in python that reference the SCIP public functions included in <code><a class="el" href="scip_8pxd.html" title="holding prototype of the SCIP public functions to use them in PySCIPOpt ">scip.pxd</a></code>. This is achieved by modifying the <code><a class="el" href="scip_8pyx.html" title="holding functions in python that reference the SCIP public functions included in scip.pxd ">scip.pyx</a></code> file to add the functionality you require.</p>
<p>We are always happy to accept pull request containing patches or extensions!</p>
<p>Please have a look at our <a class="el" href="md_CONTRIBUTING.html">contribution guidelines</a>.</p>
<h2>Gotchas </h2>
<h3>Ranged constraints</h3>
<p>While ranged constraints of the form</p>
<div class="fragment"><div class="line">lhs &lt;= expression &lt;= rhs</div></div><!-- fragment --><p>are supported, the Python syntax for <a href="https://docs.python.org/3.5/reference/expressions.html#comparisons">chained comparisons</a> can't be hijacked with operator overloading. Instead, parenthesis must be used, e.g.,</p>
<div class="fragment"><div class="line">lhs &lt;= (expression &lt;= rhs)</div></div><!-- fragment --><p>Alternatively, you may call <code>model.chgRhs(cons, newrhs)</code> or <code>model.chgLhs(cons, newlhs)</code> after the single-sided constraint has been created.</p>
<h3>Variable objects</h3>
<p>You can't use <code>Variable</code> objects as elements of <code>set</code>s or as keys of <code>dict</code>s. They are not hashable and comparable. The issue is that comparisons such as <code>x == y</code> will be interpreted as linear constraints, since <code>Variable</code>s are also <code>Expr</code> objects.</p>
<h3>Dual values</h3>
<p>While PySCIPOpt supports access to the dual values of a solution, there are some limitations involved:</p>
<ul>
<li>Can only be used when presolving and propagation is disabled to ensure that the LP solver - which is providing the dual information - actually solves the unmodified problem.</li>
<li>Heuristics should also be disabled to avoid that the problem is solved before the LP solver is called.</li>
<li>There should be no bound constraints, i.e., constraints with only one variable. This can cause incorrect values as explained in <a href="https://github.com/SCIP-Interfaces/PySCIPOpt/issues/136">#136</a></li>
</ul>
<p>Therefore, you should use the following settings when trying to work with dual information:</p>
<div class="fragment"><div class="line">model.setPresolve(pyscipopt.SCIP_PARAMSETTING.OFF)</div><div class="line">model.setHeuristics(pyscipopt.SCIP_PARAMSETTING.OFF)</div><div class="line">model.disablePropagation()</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
